<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">Criar Tarefa</h5>
      <button type="button" class="btn-close" (click)="closeModal()"></button>
    </div>
    <div class="modal-body">
      <form [formGroup]="taskForm">
        <div class="mb-3">
          <label for="taskTitle" class="form-label">Título</label>
          <input type="text" class="form-control" id="taskTitle" placeholder="Digite o título da tarefa" formControlName="taskTitle">
        </div>
        <div class="mb-3">
          <label for="taskDescription" class="form-label">Descrição</label>
          <textarea class="form-control" id="taskDescription" rows="3" placeholder="Digite a descrição da tarefa" formControlName="taskDescription"></textarea>
        </div>
        <div class="mb-3">
          <label for="taskCategory" class="form-label">Categoria</label>
          <select class="form-select" id="taskCategory" formControlName="taskCategory">
            <option [ngValue]="null" disabled>Selecione uma categoria</option>
            <option *ngFor="let cat of categories" [ngValue]="cat.id ?? cat.Id ?? cat.categorieTaskId">
              {{ cat.name ?? cat.Name ?? cat.categoryName ?? cat.category ?? 'Categoria' }}
            </option>
          </select>
          <small class="text-muted" *ngIf="categories.length === 0">Carregando categorias...</small>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" (click)="closeModal()">Cancelar</button>
      <button type="submit" class="btn btn-primary" (click)="createTask()">Criar Tarefa</button>
    </div>
  </div>
</div>
